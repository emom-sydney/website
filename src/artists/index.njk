---
layout: "main.njk"
pageTitle: "Artists we've hosted"
---

{% set sorted = artists | sortBy('stageName') %}
{% set currentYear = 'now' | getYear %}
{% set todayTime = now.getTime() %}

{% if sorted and sorted.length %}
<h3>{{ currentYear }}</h3>
<ul class="artist-list">
{% for artist in sorted %}
{% if helpers.artistHasPerformanceInYear(artist, currentYear, events, performances) %}<li><a href="/artists/{{ artist.stageName | slugify }}/index.html">{{ artist.stageName }}</a></li>
{% endif %}
{% endfor %}
</ul>

<h3>Previous Years</h3>
<ul class="artist-list">
{% for artist in sorted %}
{% set hasCurrentYear = helpers.artistHasPerformanceInYear(artist, currentYear, events, performances) %}
{% set hasPast = helpers.artistHasPastPerformance(artist, events, performances, todayTime) %}
{% if hasPast and not hasCurrentYear %}<li><a href="/artists/{{ artist.stageName | slugify }}/index.html">{{ artist.stageName }}</a></li>
{% endif %}
{% endfor %}
</ul>
{% else %}
<p>No artists found.</p>
{% endif %}